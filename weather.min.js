$(document).ready(function(){function a(a){var a=a,b=($(".autocomplete__list"),"https://dataservice.accuweather.com/locations/v1/cities/autocomplete?apikey=vyTIDsdrqTfCALrFfc11rXx4qQyqf8mx&q="+a);$(".autocomplete__list").empty(),$.getJSON(b,function(a){$("#json-results").html(JSON.stringify(a,null,1));var b=JSON.stringify(a,null,1);b=JSON.parse(b),arrayLength=b.length,arrayLength>1&&$(".autocomplete__list").attr("size",arrayLength);for(var c=0;c<arrayLength-1;c++){var d=b[c].LocalizedName,e=b[c].Country.ID,f=b[c].Key;$(".autocomplete__list").append('<li class="autocomplete__item" value= "'+d+'" data-key="'+f+'" data-city="'+d+'" data-country="'+e+'" >'+d+", "+e+"</li>"),$(".autocomplete__list").removeClass("hide-results").addClass("show-results")}$(".autocomplete__item").hover(function(){$(".autocomplete__item").removeClass("selected"),$(this).addClass("selected")})})}function b(a,b,c){var d=$(".location"),e=$(".local-weather"),g=$(".info-weather"),h="https://dataservice.accuweather.com/currentconditions/v1/"+a+"?apikey=vyTIDsdrqTfCALrFfc11rXx4qQyqf8mx&details=true";$.ajax({url:h,dataType:"json",success:function(a){for(var h=a.length,i=0;i<h;i++){var j=b+", "+c,k=a[i].Temperature.Imperial.Value,l=a[i].WeatherText,m=a[i].WeatherIcon,n=a[i].RelativeHumidity,o=a[i].TemperatureSummary.Past6HourRange.Maximum.Imperial.Value,p=a[i].TemperatureSummary.Past6HourRange.Minimum.Imperial.Value,q=a[i].Wind.Speed.Imperial.Value,r=a[i].DewPoint.Imperial.Value,s=a[i].Pressure.Imperial.Value,t=a[i].Visibility.Imperial.Value,u=a[i].RealFeelTemperature.Imperial.Value,v=a[i].UVIndex,w=a[i].UVIndexText;d.find(".location__title").html(j),d.find(".location__icon").addClass(f[m]),e.find(".location").html(b),e.find(".temp").html(Math.round(k)),e.find(".desc").html(l),e.find(".icon").addClass(f[m]),g.find(".feels").html(u),g.find(".wind").html(q),g.find(".humidity").html(n),g.find(".maximum").html(o),g.find(".minimum").html(p),g.find(".dew-point").html(r),g.find(".pressure").html(s),g.find(".visibility").html(t),g.find(".uv-index").html(v),g.find(".uv-index-text").html(w)}}})}function c(a){var b="https://dataservice.accuweather.com/forecasts/v1/daily/1day/"+a+"?apikey=vyTIDsdrqTfCALrFfc11rXx4qQyqf8mx",c=$(".details-weather");$.ajax({url:b,dataType:"json",success:function(a){for(var b=a.DailyForecasts.length,d=a.Headline.Text,e=0;e<b;e++){var f=a.DailyForecasts[e].Day.IconPhrase,g=a.DailyForecasts[e].Night.IconPhrase;c.find(".morning").html(f),c.find(".night").html(g)}c.find(".today").html(d)}})}function d(a){var b=($(".forecast__col"),"https://dataservice.accuweather.com//forecasts/v1/daily/5day/"+a+"?apikey=vyTIDsdrqTfCALrFfc11rXx4qQyqf8mx");$.ajax({url:b,dataType:"jsonp",success:function(a){for(var b=a.DailyForecasts.length,c=0;c<=b-1;c++){var d=a.DailyForecasts[c].Temperature.Maximum.Value,e=a.DailyForecasts[c].Temperature.Minimum.Value,h=a.DailyForecasts[c].Day.IconPhrase,i=a.DailyForecasts[c].EpochDate,j=(a.DailyForecasts[c].Night.IconPhrase,a.DailyForecasts[c].Day.Icon),k=new Date(1e3*i),l=g[k.getMonth()],h=k.getDate(),m=c+1;m>=2&&$(".day-"+m).find(".date").html(l+" "+h),$(".day-"+m).find(".icon").addClass(f[j]),$(".day-"+m).find(".max").html(d),$(".day-"+m).find(".min").html(e)}}})}var e=0;$(".autocomplete__list").on("click","li",function(a){a.preventDefault();var d=$(this).data("key");b(d,$(this).data("city"),$(this).data("country")),c(d),$(".autocomplete__input:text").val(""),$(".autocomplete__list").removeClass("visible"),$(".autocomplete__list").empty(),$(".autocomplete").removeClass("visible"),$(".hamburger").removeClass("is-active")}),$(".autocomplete__form").submit(function(a){a.preventDefault()}),$(".hamburger").on("click",function(a){a.preventDefault(),$(this).toggleClass("is-active"),$(".autocomplete").toggleClass("visible")}),$(document).keyup(".autocomplete__input",function(c){c.preventDefault();var f,g=c.which,h=$("li"),i=h.filter(".selected"),j=$(".autocomplete__input").val();if(40!=g&&38!=g&&13!=g&&8!=g)++e>=2&&($(".autocomplete__list").addClass("visible"),a(j));else if(h.removeClass("selected"),40==g)f=!i.length||i.is(":last-child")?h.eq(0):i.next(),f.addClass("selected");else if(38==g)f=!i.length||i.is(":first-child")?h.last():i.prev(),f.addClass("selected");else if(8==g)""==$(".autocomplete__input").val()&&($(".autocomplete__list").removeClass("visible"),$(".autocomplete__list").empty());else if(13==g){c.stopPropagation();var k=i.data("key"),j=i.data("city"),l=i.data("country");$(".autocomplete__list").empty(),b(k,j,l),d(k),$(".autocomplete__input").val(""),$(".autocomplete").removeClass("visible"),$(".autocomplete__list").removeClass("visible"),$(".autocomplete__list").empty(),$(".hamburger").removeClass("is-active")}}),function(){var a=$(".local-weather"),c=a.data("citykey"),e=a.data("country");b(c,a.data("city"),e),d(c)}();var f={1:"icon-sun",2:"icon-cloud-sun",3:"icon-cloud-sun",4:"icon-cloud-sun",5:"icon-cloud-sun",6:"icon-cloud-sun",7:"icon-clouds",8:"icon-clouds",11:"icon-fog-sun",12:"icon-rain",13:"icon-rain",14:"icon-rain",15:"icon-cloud-flash",16:"icon-clouds-flash-alt",17:"icon-clouds-flash-alt",18:"icon-rain",19:"icon-hail",20:"icon-snow",21:"icon-snow",22:"icon-snow",23:"icon-snow",24:"icon-hail",25:"icon-hail",26:"icon-hail",29:"icon-hail",30:"icon-sun",31:"icon-hail",32:"icon-windy",33:"icon-moon",34:"icon-moon",35:"icon-cloud-moon",36:"icon-cloud-moon",37:"icon-cloud-fog",38:"icon-cloud-moon",39:"icon-rain",40:"icon-rain",41:"icon-rain",42:"icon-rain",43:"icon-rain",44:"icon-rain"},g=["January","February","March","April","May","June","July","August","September","October","November","December"]});